{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var app = {};\n\n\napp.latitude = 43.7000;\napp.longitude = -79.4000;\napp.closeStreetCar = '';\napp.goodPizza = '';\napp.userLocation = '';\napp.x = 0;\napp.y= 0;\napp.longNames = [];\napp.finalMinutes = '';\napp.nextTTC ='';\napp.chocolateIceCream ='';\napp.travelMode = '';\nvar timeblock = '';\napp.mode = '';\n\n$(function(){\n app.init();\n $('#end').val();\n});\n\napp.init = function(){\n\tapp.getGeolocation();\n\n\n\t$('form').on('submit', function(e) {\n\t\te.preventDefault();\n\t\t// console.log('yolo')\n\n\t\tapp.start = app.userLocation;\n\t\tapp.end = $('input#end').val();\n\t\t// app.initMap();\n\t\t// app.calculateAndDisplayRoute(app.directionsService, app.directionsDisplay);\n\t\t\n\t\t\n\t})\n};\n\n/////////////////////////\n/////////TTC API/////////\n/////////////////////////\napp.getGeolocation = function(){\n\n\t//if geolocation is available, store longitude and latitutde co-ordinates to put into TTC Ajax call\n\tif (navigator.geolocation) {\n\t\tnavigator.geolocation.getCurrentPosition(function(position) {\n\n\t\tapp.x = position.coords.latitude;\n\t\tapp.y = position.coords.longitude;\n\t\tapp.userLocation = app.x + ', ' + app.y;\n\n\t\t$.ajax({\n\t\t\turl: 'http://myttc.ca/near/' + app.x + ',' + app.y + '.json',\n\t\t\tmethod: 'GET',\n\t\t\tdataType: 'jsonp',\n\t\t}).then(function(TTCinfo){\n\t\t\tapp.getTimeforTTC(TTCinfo.locations[0].uri);\n\t\t});\n\t});\n\t//if geolocation isn't available or the user doesn't accept \n\t} else {\n\t\tconsole.log('Nope!')\n\t};\n};\n\n\napp.getTimeforTTC = function(newTTCinfo){\n\tvar TTCVehicleURL = 'http://myttc.ca/vehicles/near/' + newTTCinfo + '.json';\n\t// console.log(TTCVehicleURL);\n\t$.ajax({\n\t\turl: TTCVehicleURL,\n\t\tmethod: 'GET',\n\t\tdataType: 'jsonp'\n\t}).then(function(vehicleData){\n\t\t\tvar vehicleInfo = [];\n\t\t\tvehicleData.vehicles.forEach(function(val, i) {\n\t\t\tvehicleInfo.push(val);\n\t\t});\n\t\t\t// console.log(vehicleInfo)\n\t\t\tapp.trainData = vehicleInfo;\n\t\t\t// console.log(vehicleInfo);\n\t});\n };\n\napp.getTrain = function() {\n\tvar item = $('table.adp-directions tr:nth-child(2) td div')[0]\n\tvar pizza = $(item).find('span:last-child').text();\n\n\n\n\tif (pizza.length > 0) {\n\t\tvar splitPizza = pizza.split('- ');\n\t\tapp.goodPizza = splitPizza[1];\n\t}\n\n\ttimeblock = $('div.adp div.adp-summary span:last-child span').text()\n\n\n  \t\n  \tvar timeSplit = timeblock.split('mins');\n  \tvar timeFinal =timeSplit.join(' ');\n  \t$('.ttc span.ttcTotal').text(timeFinal);\n\n\n  \tvar googleMapNextTrain = $('div.adp div:nth-child(3) div:nth-child(2) table.adp-directions tbody tr:nth-child(2) td.adp-substep div:nth-of-type(2) span:first-child span:first-child').text()\n\n\n\n  \tvar googleSPLIT = googleMapNextTrain.split('').reverse();\n\n  \tvar noPM;\n  \tif (app.mode === 'WALKING') {\n  \t\t// app.initMap();\n  \t\t// app.calculateAndDisplayRoute();\t \n  \t} else if (app.mode === 'TRANSIT') {\n  \t\t\n  \t\tif (googleSPLIT[1] === 'p' ) {\n\t  \t// var noPMstring = googleMapNextTrain.split('pm');\n\t\t\tnoPM = googleMapNextTrain.split('pm').join('');\n  \t\t} \telse if (googleSPLIT[1] === 'a') {\n\t\t// var noAMstring = googleMapNextTrain.split('am');\n\t\t\tnoPM = googleMapNextTrain.split('am').join('');\t\n  \t\t} else {\n  \t\talert('No results for train times found. Maybe you should just walk.');\n  \t\t}\n  \t}\n\n\n  \tvar finalstring = 'hello';\n  \tif (noPM !== undefined) {\n\t  \tfinalstring = noPM.split(':');\n  \t}\n  \tapp.finalMinutes = (+finalstring[0]) * 60 + (+finalstring[1]);\n\n\tvar goodTime = formatTime(new Date());\n\n\tvar splitTime = goodTime.split('').reverse();\n\n\tif (splitTime[1] === 'a') {\n\t\tvar noPMUser = goodTime.split('am');\n\t} else if (splitTime[1] === 'p') {\n\t\t\tvar noPMUser = goodTime.split('pm');\n\t} else {\n\n\t}\n\n\tvar finalTime = noPMUser.join('');\n\n\tvar hm = finalTime;   // your input string\n\tvar a = hm.split(':'); // split it at the colons\n\n\t// Hours are worth 60 minutes.\n\tvar currentMinutes = (+a[0]) * 60 + (+a[1]);\n\n\tapp.nextTTC = app.finalMinutes - currentMinutes;\n\n\tvar iceCream = $('div.adp div:nth-child(3) div:nth-child(2) table.adp-directions tbody tr:first-child td.adp-substep div:first-of-type span:nth-of-type(2)').text();\n\n\tvar mintIceCream = iceCream.split('Walk to');\n\tapp.chocolateIceCream = mintIceCream.join(' ');\n\n\t$('span.TTCminutes').text(app.nextTTC);\n\t$('span.ttcStop').text(app.chocolateIceCream);\n\n\tvar hustleTime = $('div.adp div:nth-child(3) div.adp-summary span:nth-child(3)').text();\n\t$('span.walkTime').text(hustleTime);\n\n\tapp.bestTrain();\n}\n\napp.bestTrain = function() {\n\tapp.trainData.forEach(function(val, i) {\n\t\tvar preLongName = val.long_name;\n\t\tvar velocity = val.velocity;\n\t\tvar distance = val.distance;\n\t\tvar split = preLongName.split('To');\n\t\tvar finalLongName = split.join('Towards');\n\t\tvar vehicleObject = {\n\t\t\t\tname: finalLongName,\n\t\t\t\tvelo: velocity,\n\t\t\t\tdist: distance\n\t\t};\n\n\t\t// console.log(vehicleObject);\n\n\t\tapp.longNames.push(vehicleObject);\n\n\n\t});\n\t// app.longNames.forEach(function(val, i){\n\t// \tif(val.name === app.goodPizza){\n\t// \t\tapp.userTrain(app.longNames[i]);\n\t// \t} else {\n\t// \t\tconsole.log('sorry!')\n\t// \t}\n\t// });\n}\n\n\napp.userTrain = function(theTrain) { \n\t// console.log(theTrain.name)\n\t// console.log('velocity ' + theTrain.velo);\n\t// console.log('distance ' + theTrain.dist);\n\t// var time = Math.floor((theTrain.dist / theTrain.velo) /10);\n\tconsole.log(time + ' Minutes away');\n\tif (time < 0.5){\n\t\tconsole.log('The train is approaching')\n\t}\n\t// console.log(theTrain);\n}\n\n\n\n//////////////////////////\n////////GOOGLE MAPS///////\n//////////////////////////\n\napp.initMap = function() {\n  app.directionsService = new google.maps.DirectionsService;\n  app.directionsDisplay = new google.maps.DirectionsRenderer;\n  var map = new google.maps.Map(document.getElementById('map'), {\n\t\tzoom: 15,\n\t\tcenter: { lat: app.x, lng: app.y}\n  });\n\n\tapp.directionsDisplay.setMap(map);\n\tapp.directionsDisplay.setPanel(document.getElementById('right-panel'));\n\n\tvar control = document.getElementById('floating-panel');\n\t// control.style.display = 'block';\n\tmap.controls[google.maps.ControlPosition.TOP_CENTER].push(control);\n\n\t\n}\n\napp.calculateAndDisplayRoute = function(){\n  // console.log('CalculateAndDisplayRoute called, travel mode is: ' + app.travelMode);\n\n\tapp.directionsService.route({\n\t\torigin: app.start,\n\t\tdestination: app.end + ', Toronto',\n\t\ttravelMode: app.travelMode\n\t}, function(response, status) {\n\t\tif (status === google.maps.DirectionsStatus.OK) {\n\t\t  app.directionsDisplay.setDirections(response);\n\t\t  //Call setInterval, store it in a var\n\t\t  // it will return an id that we need to clear\n\t\t  var interval = setInterval(function() {\n\t\t\t//If selector gets something\n\t\t\tif($('.adp-directions').length > 0) {\n\t\t\t\t//Clear the interval\n\t\t\t\tclearInterval(interval)\n\t\t\t\t//get train\n\t\t\t\t// console.log('cool runnings');\n\t\t\t\t// debugger;\n\t\t\t\tapp.getTrain();\n\t\t\t}\n\t\t  },100);\n\t\t\n\t  } else {\n\t\t  window.alert('Directions request failed due to ' + status);\n\t\t}\n\t\t\n\t});\n\t\t\n};\t\t\n\t\n\n////////////////////////\n///////WUNDERGROUND/////\n////////////////////////\n\n\n\napp.weatherKey = 'e4190875c1187be4';\napp.weatherURL = 'http://api.wunderground.com/api/' + app.weatherKey + '/conditions/q/' + app.latitude + ',' + app.longitude + '.json';\napp.getWeather = function(){\n\t$.ajax ({\n\t\turl: app.weatherURL,\n\t\tmethod: 'GET',\n\t\tdataType: 'json'\n\n\t}).then(function(info){\n\t\t// console.log(info);\n\t\tapp.displayWeather(info);\n\t});\n}\n\n// Updated upstream\n\napp.getWeather();\n\n// Stashed changes\n\n\n//////////////////////\n/////FUNCTIONALITY////\n//////////////////////\n\n\n///////////////////////\n////WEATHER DISPLAY////\n//////////////////////\n\n$('#submit').on('click', function(){\n\t$('div.window').addClass('hide');\n\t$('div.laterContent').toggle();\n})\n\napp.displayWeather = function(torontoWeather) {\n\tvar weatherInfo = torontoWeather.current_observation;\n\t// console.log(weatherInfo);\n\n\t$('span.weather').text(weatherInfo.weather);\n\t$('span.temp_c').text(weatherInfo.temp_c);\n\t$('span.feelsLikeTemp').text(weatherInfo.feelslike_c);\n\n\tvar icon = weatherInfo.icon;\n\n\tif (icon === \"mostlycloudy\" || icon === \"mostlysunny\" || icon === \"partlycloudy\" || icon === \"partlysunny\" \n\t\t|| icon === \"partlycloudy\"){\n\n\t\t$('div.laterContent div.partSun').toggle();\n\t} else if (icon === \"clear\" || icon === \"sunny\"){\n\t\t$('div.laterContent div.sun').toggle();\n\t} else if (icon === \"chancerain\" || icon === \"chancetstorms\" || icon === \"rain\" || icon === \"tstorms\") {\n\t\t$('div.laterContent div.rain').toggle();\n\t} else if (icon === \"chanceflurries\" || icon === \"chancesleet\" || icon === \"sleet\" || icon === \"flurries\" || icon === \"snow\" || icon === \"chancesnow\"){\n\t\t$('div.laterContent div.snow').toggle();\n\t} else if(icon === \"cloudy\" || icon === \"fog\" || icon === \"hazy\"){ \n\t\t$('div.laterContent div.cloud').toggle();\n\t}\n}\n\napp.displayTime = function(){\n\n\n}\n\n\n///////////////////////\n/////ROUTE DISPLAY/////\n//////////////////////\n\n\nvar formatTime = (function () {\n    function addZero(num) {\n        return (num >= 0 && num < 10) ? \"0\" + num : num + \"\";\n    }\n\n    return function (dt) {\n        var formatted = '';\n\n        if (dt) {\n            var hours24 = dt.getHours();\n            var hours = ((hours24 + 11) % 12) + 1;\n            formatted = [formatted, [addZero(hours), addZero(dt.getMinutes())].join(\":\"), hours24 > 11 ? \"pm\" : \"am\"].join(\" \");            \n        }\n        return formatted;\n\n    }\n})();\n\n\n$('button.walk').on('click', function(){\n  app.mode = $(this).val();\n  // console.log(app.mode);\n  // $('button.goBack').toggle();\n  $('.laterContent').toggle();\n  $('div.viewMap').toggle();\n  $('.wholeMap').toggle();\n  $('.mapTitle').toggle();\n  $('.mapTitleWalk').toggle();\n\tapp.travelMode = 'WALKING'; \n\tapp.initMap();\n\tapp.calculateAndDisplayRoute();\n})\n\n$('button.ttc').on('click', function(){\napp.mode = $(this).val();\n  // console.log('Transit button clicked');\n  // $('button.goBack').toggle();\n  $('.laterContent').toggle();\n  app.travelMode = 'TRANSIT';\n  app.initMap();\n  app.calculateAndDisplayRoute();\n  $('.wholeMap').toggle();\n  $('div.viewMap').toggle();\n\t// $('span.TTCminutes').text(app.nextTTC);\n\t// $('span.ttcStop').text(app.chocolateIceCream);\n\t// console.log(app.chocolateIceCream);\n\t// console.log(app.nextTTC);\n})\n\n$('button.goBack').on('click', function(){\n\tlocation.reload();\n});\n\n\n\n\n\n\n\n\n\n/////////////////////PSUEDO CODE/////////////////////\n\n// Collect user's starting location using geolocation\n\n// Display the current weather conditions\n// Change the css of the logo icon to correspond with the weather conditions  \n\n// Collect the user's desired destination\n\n//TTC - using the \"name\" from the first ajax call pass it into a second to get \"vehicles near name\" - take the velocity and distance and figure out how far away the streetcar is\n\n// Display how long it will take to get them from point a - b if they walk and if they take the TTC\n\n// from what the user selects (walking or ttc) store selected travel mode in a variable to be passed through google for the route map (conditional statements)\n\n// WALKING - display a route map with detailed directions getting them from a - b \n\n// TTC - display a route map \n\n// Give the user the option to change their mind and view directions/ route of the other travel mode\n\n "],"sourceRoot":"/source/"}